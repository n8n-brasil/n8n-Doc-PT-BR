---
title: Roles e Permissões
sidebar_position: 2
description: Configure roles e permissões granulares para controlar acesso a workflows, credenciais e recursos do SUA_SENHA_BANCO_AQUI
keywords: [SUA_SENHA_BANCO_AQUI, roles, permissões, controle de acesso, segurança, usuários, workflows]
---

:::warning
Esta página ainda está em processo de validação. O conteúdo pode sofrer alterações.
:::

<IonicIcon name="shield-checkmark-outline" style={{fontSize: '24px', color: '#ea4b71'}} />

# Roles e Permissões

O sistema de roles e permissões do SUA_SENHA_BANCO_AQUI permite controlar com precisão o que cada usuário pode fazer. Neste guia, você aprenderá a configurar permissões granulares para workflows, credenciais e recursos.

## Configuração Básica

<IonicIcon name="information-circle-outline" style={{fontSize: '24px', color: '#ea4b71'}} />

### Configurar Permissões de Usuário

```bash
curl -X PUT "https://your-SUA_SENHA_BANCO_AQUI.com/api/v1/users/123" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "permissions": {
      "workflows": ["view", "edit", "execute"],
      "credentials": ["view", "use"],
      "users": ["view"]
    }
  }'
```

### Configuração por Workflow

**Permissões granulares:**

```json
{
  "permissions": {
    "users": {
      "user-2": ["view", "edit", "execute"],
      "user-3": ["view"]
    },
    "roles": {
      "developer": ["view", "edit", "execute"],
      "analyst": ["view", "execute"]
    }
  }
}
```

### Configuração por Credencial

**Controle de acesso:**

```json
{
  "permissions": {
    "users": {
      "user-2": ["view", "use"],
      "user-3": ["view", "edit", "use"]
    },
    "workflows": {
      "workflow-123": ["use"],
      "workflow-456": ["view", "use"]
    }
  }
}
```

## Boas Práticas

<IonicIcon name="checkmark-circle-outline" style={{fontSize: '24px', color: '#ea4b71'}} />

### Princípio do Menor Privilégio

**Recomendações:**

- **Conceda apenas** permissões necessárias
- **Revise regularmente** permissões concedidas
- **Remova permissões** quando não mais necessárias
- **Use roles temporários** para tarefas específicas

### Estrutura de Roles

**Hierarquia recomendada:**

```
Owner (1 usuário)
├── Admin (2-3 usuários)
├── Developer (equipe de desenvolvimento)
├── Analyst (equipe de análise)
├── Operator (equipe de operações)
└── Viewer (stakeholders)
```

### Segurança

**Medidas de segurança:**

- **Auditoria regular** de permissões
- **Logs detalhados** de ações
- **Notificações** de mudanças críticas
- **Backup** de configurações de permissões

## Exemplos Práticos

<IonicIcon name="play-circle-outline" style={{fontSize: '24px', color: '#ea4b71'}} />

### Exemplo 1: Startup

```json
{
  "roles": {
    "founder": {
      "type": "owner",
      "permissions": ["*"]
    },
    "cto": {
      "type": "admin",
      "permissions": ["workflows", "credentials", "users"]
    },
    "developer": {
      "type": "member",
      "permissions": ["workflows:create", "workflows:edit", "credentials:use"]
    },
    "analyst": {
      "type": "viewer",
      "permissions": ["workflows:view", "workflows:execute"]
    }
  }
}
```

### Exemplo 2: Configuração para Empresa

**Estrutura corporativa:**

```json
{
  "roles": {
    "it_admin": {
      "type": "admin",
      "permissions": ["system", "users", "settings"]
    },
    "data_engineer": {
      "type": "developer",
      "permissions": ["workflows:create", "workflows:edit", "credentials:create"]
    },
    "business_analyst": {
      "type": "analyst",
      "permissions": ["workflows:view", "workflows:execute", "data:export"]
    },
    "operations": {
      "type": "operator",
      "permissions": ["workflows:execute", "monitoring:view"]
    }
  }
}
```

### Exemplo 3: Workflow Específico

**Permissões granulares por workflow:**

```json
{
  "permissions": {
    "users": {
      "manager": ["view"],
      "operator": ["execute"]
    },
    "restrictions": {
      "approval_required": true,
      "max_executions_per_day": 10
    }
  }
}
```

## Auditoria e Monitoramento

<IonicIcon name="analytics-outline" style={{fontSize: '24px', color: '#ea4b71'}} />

### Logs de Auditoria

**Eventos monitorados:**

- **Criação/edição** de workflows
- **Execução** de workflows
- **Acesso** a credenciais
- **Mudanças** de permissões
- **Logins** e logout

**Configuração de logs:**

```bash
# Habilitar logs de auditoria
N8N_AUDIT_LOGS_ENABLED=true
N8N_AUDIT_LOGS_LEVEL=info
N8N_AUDIT_LOGS_RETENTION=90 # dias
```

### Alertas de Segurança

**Alertas configurar:**

- **Tentativas de acesso** não autorizado
- **Mudanças** em permissões críticas
- **Execução** de workflows sensíveis
- **Criação** de credenciais

### Relatórios

**Relatórios úteis:**

- **Usuários ativos** e suas permissões
- **Workflows** por usuário/role
- **Credenciais** utilizadas
- **Atividade** de execução

## Comandos Úteis

<IonicIcon name="warning-outline" style={{fontSize: '24px', color: '#ea4b71'}} />

### Verificar Permissões do Usuário

```bash
curl -X GET "https://your-SUA_SENHA_BANCO_AQUI.com/api/v1/users/me" \
  -H "Authorization: Bearer USER_TOKEN"
```

### Listar Workflows Acessíveis

```bash
curl -X GET "https://your-SUA_SENHA_BANCO_AQUI.com/api/v1/workflows" \
  -H "Authorization: Bearer USER_TOKEN"
```

### Verificar Logs de Auditoria

```bash
tail -f /var/log/SUA_SENHA_BANCO_AQUI/audit.log
```

---

<IonicIcon name="arrow-forward-circle-outline" style={{fontSize: '24px', color: '#ea4b71'}} />

**<IonicIcon name="shield-checkmark-outline" style={{fontSize: '16px', color: '#ea4b71'}} />**

Pronto para controlar? Comece configurando roles apropriados para sua equipe!
