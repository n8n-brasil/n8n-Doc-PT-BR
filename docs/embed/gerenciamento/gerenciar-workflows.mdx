---
sidebar_position: 1
title: Gerenciar Workflows Embarcados
description: Como gerenciar e controlar workflows em n8n embarcado
keywords: [n8n, embed, workflows, gerenciamento, controle, permissões]
---


#ionicicon-namegit-branch-outline-style-fontsize-24px color: '#cor-ea4b71-gerenciar-workflows Embarcados

Este documento detalha como **gerenciar workflows em n8n embarcado**, incluindo controle de acesso granular, versionamento integrado, backup automático, sincronização com sistemas externos, auditoria de mudanças, e estratégias de governança que garantem controle total sobre automações criadas dentro do ambiente embarcado mantendo compliance e segurança empresarial.

#ionicicon-nameschool-outline-style-fontsize-24px color: '#cor-ea4b71-o-que você vai aprender

- Gerenciamento via API REST
- Controle de acesso e permissões
- Versionamento de workflows
- Auditoria e logs
- Backup e recovery

---

#ionicicon-namecode-slash-outline-style-fontsize-24px color: '#cor-ea4b71-gerenciamento-via API REST

#endpoints-principais-o-n8n-oferece uma API REST completa para gerenciar workflows programaticamente:

#workflows-bash
#ionicicon-namegit-branch-outline-style-fontsize-24px color: '#cor-ea4b71-listar-todos os workflows
GET /api/v1/workflows

#ionicicon-namegit-branch-outline-style-fontsize-24px color: '#cor-ea4b71-obter-workflow específico
GET /api/v1/workflows/{id}

#ionicicon-namegit-branch-outline-style-fontsize-24px color: '#cor-ea4b71-criar-novo workflow
POST /api/v1/workflows
Content-Type: application/json

{
  "name": "Workflow de Teste",
  "active": false,
  "nodes": [...],
  "connections": {...}
}

#ionicicon-namegit-branch-outline-style-fontsize-24px color: '#cor-ea4b71-atualizar-workflow
PUT /api/v1/workflows/{id}

#ionicicon-namegit-branch-outline-style-fontsize-24px color: '#cor-ea4b71-excluir-workflow
DELETE /api/v1/workflows/{id}

#ionicicon-namegit-branch-outline-style-fontsize-24px color: '#cor-ea4b71-ativardesativar-workflow
PATCH /api/v1/workflows/{id}
{
  "active": true
}
```

#execues-bash
#ionicicon-namedocument-outline-style-fontsize-24px color: '#cor-ea4b71-listar-execues
GET /api/v1/executions

#ionicicon-namedocument-text-outline-style-fontsize-24px color: '#cor-ea4b71-executar-workflow manualmente
POST /api/v1/workflows/{id}/trigger
Content-Type: application/json

{
  "data": {
    "campo1": "valor1",
    "campo2": "valor2"
  }
}

#ionicicon-namedocument-outline-style-fontsize-24px color: '#cor-ea4b71-obter-detalhes da execução
GET /api/v1/executions/{id}

#ionicicon-namedocument-outline-style-fontsize-24px color: '#cor-ea4b71-parar-execuo em andamento
POST /api/v1/executions/{id}/stop
```

#Autenticação

#api-key-recomendado-bash
#ionicicon-namecode-slash-outline-style-fontsize-24px color: '#cor-ea4b71-gerar-api Key
curl -X POST "https://seu-n8n.com/api/v1/auth/api-key" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "API Key para Embed",
    "scopes": ["workflow:read", "workflow:write", "execution:read"]
  }'

#ionicicon-namecode-slash-outline-style-fontsize-24px color: '#cor-ea4b71-usar-api Key
curl -H "X-N8N-API-KEY: sua_api_key" \
  https://seu-n8n.com/api/v1/workflows
```

#oauth-20-bash
#ionicicon-namesettings-outline-style-fontsize-24px color: '#cor-ea4b71-configurar-oauth 2.0
{
  "client_id": "seu_client_id",
  "client_secret": "seu_client_secret",
  "authorization_url": "https://seu-n8n.com/oauth/authorize",
  "token_url": "https://seu-n8n.com/oauth/token"
}
```

---

#ionicicon-nameshield-checkmark-outline-style-fontsize-24px color: '#cor-ea4b71-controle-de Acesso e Permissões

#sistema-rbac-o-n8n-implementa Role-Based Access Control (RBAC) para controle granular de acesso:

#roles-disponveis-javascript-roles padrão do n8n
const roles = {
  owner: {
    description: "Acesso total ao sistema",
    permissions: ["*"]
  },
  admin: {
    description: "Gerenciamento de usuários e configurações",
    permissions: [
      "user:read", "user:write",
      "workflow:read", "workflow:write",
      "credential:read", "credential:write"
    ]
  },
  editor: {
    description: "Criar e editar workflows",
    permissions: [
      "workflow:read", "workflow:write",
      "execution:read", "execution:write"
    ]
  },
  viewer: {
    description: "Apenas visualizar workflows",
    permissions: [
      "workflow:read",
      "execution:read"
    ]
  }
}
```

#permisses-por-workflow-javascript Configurar permissões específicas por workflow
{
  "workflowId": "abc123",
  "permissions": {
    "user1@empresa.com": ["read", "write"],
    "user2@empresa.com": ["read"],
    "group:marketing": ["read", "execute"]
  }
}
```

#integrao-com-sistemas-externos

#samlsso-yaml
#ionicicon-namesettings-outline-style-fontsize-24px color: '#cor-ea4b71-configurao-saml
N8N_SAML_ENABLED=true
N8N_SAML_ISSUER=https://seu-identity-provider.com
N8N_SAML_ENTRY_POINT=https://seu-identity-provider.com/sso
N8N_SAML_CERT=/path/to/certificate.pem
```

#ldapactive-directory-yaml
#ionicicon-namesettings-outline-style-fontsize-24px color: '#cor-ea4b71-configurao-ldap
N8N_LDAP_ENABLED=true
N8N_LDAP_SERVER_URL=ldap://ldap.empresa.com:389
N8N_LDAP_BIND_DN=cn=admin,dc=empresa,dc=com
N8N_LDAP_BIND_PASSWORD=senha_ldap
N8N_LDAP_BASE_DN=dc=empresa,dc=com
```

---

#ionicicon-namegit-branch-outline-style-fontsize-24px color: '#cor-ea4b71-versionamento-de Workflows

#histrico-automtico-o-n8n-mantm histórico completo de versões automaticamente:

#verses-automticas-javascript-cada salvamento gera uma nova versão
{
  "workflowId": "abc123",
  "versions": [
    {
      "version": 5,
      "timestamp": "2024-01-15T10:30:00Z",
      "author": "usuario@empresa.com",
      "changes": "Adicionado node de validação",
      "active": true
    },
    {
      "version": 4,
      "timestamp": "2024-01-14T15:45:00Z",
      "author": "usuario@empresa.com",
      "changes": "Corrigido bug no webhook",
      "active": false
    }
  ]
}
```

#api-de-versionamento-bash
#ionicicon-namegit-branch-outline-style-fontsize-24px color: '#cor-ea4b71-listar-verses de um workflow
GET /api/v1/workflows/{id}/versions

#ionicicon-namedocument-outline-style-fontsize-24px color: '#cor-ea4b71-obter-verso específica
GET /api/v1/workflows/{id}/versions/{version}

#ionicicon-namedocument-outline-style-fontsize-24px color: '#cor-ea4b71-restaurar-verso anterior
POST /api/v1/workflows/{id}/versions/{version}/restore

#ionicicon-namedocument-outline-style-fontsize-24px color: '#cor-ea4b71-comparar-verses
GET /api/v1/workflows/{id}/versions/compare?from=3&to=5
```

#documentao-de-mudanas

#comentrios-de-verso-javascript Adicionar comentário ao salvar
{
  "name": "Workflow de Vendas",
  "versionComment": "Adicionada validação de CPF e integração com CRM",
  "nodes": [...],
  "connections": {...}
}
```

#changelog-automtico-bash
#ionicicon-namedocument-outline-style-fontsize-24px color: '#cor-ea4b71-gerar-changelog entre versões
curl -X GET "https://seu-n8n.com/api/v1/workflows/{id}/changelog?from=1&to=5" \
  -H "X-N8N-API-KEY: sua_api_key"
```

---

#ionicicon-namesparkles-outline-style-fontsize-24px color: '#cor-ea4b71-auditoria-e Logs

#logs-de-atividade

#eventos-auditados-javascript-tipos de eventos registrados
const auditEvents = {
  "workflow.created": "Workflow criado",
  "workflow.updated": "Workflow atualizado",
  "workflow.deleted": "Workflow excluído",
  "workflow.executed": "Workflow executado",
  "user.login": "Usuário fez login",
  "user.logout": "Usuário fez logout",
  "credential.accessed": "Credencial acessada",
  "permission.changed": "Permissão alterada"
}
```

#api-de-auditoria-bash
#ionicicon-namedocument-outline-style-fontsize-24px color: '#cor-ea4b71-obter-logs de atividade
GET /api/v1/audit-logs?start=2024-01-01&end=2024-01-31

#ionicicon-nameperson-outline-style-fontsize-24px color: '#cor-ea4b71-filtrar-por usuário
GET /api/v1/audit-logs?user=usuario@empresa.com

#ionicicon-namedocument-outline-style-fontsize-24px color: '#cor-ea4b71-filtrar-por tipo de evento
GET /api/v1/audit-logs?event=workflow.updated

#ionicicon-namecloud-download-outline-style-fontsize-24px color: '#cor-ea4b71-exportar-logs
GET /api/v1/audit-logs/export?format=csv
```

#alertas-de-segurana

#configurao-de-alertas-javascript Configurar alertas para atividades suspeitas
{
  "securityAlerts": {
    "failedLogins": {
      "threshold": 5,
      "timeWindow": "15m",
      "action": "notify_admin"
    },
    "workflowDeletions": {
      "action": "notify_admin",
      "immediate": true
    },
    "unusualActivity": {
      "newLocation": true,
      "unusualHours": true,
      "action": "notify_user"
    }
  }
}
```

#integrao-com-sistemas-de-monitoramento

```bash
#ionicicon-namegit-network-outline-style-fontsize-24px color: '#cor-ea4b71-webhook-para alertas
POST /webhook/security-alerts
{
  "event": "workflow.deleted",
  "user": "usuario@empresa.com",
  "workflow": "Workflow Crítico",
  "timestamp": "2024-01-15T10:30:00Z",
  "ip": "192.168.1.100"
}
```

---

#ionicicon-namechevron-forward-outline-style-fontsize-24px color: '#cor-ea4b71-backup-e Recovery

#cor-backup-automtico

#script-de-backup-bash
#bin/bash
#ionicicon-namegit-branch-outline-style-fontsize-24px color: '#cor-ea4b71-backup-workflowssh-datedate +%Y%m%d_%H%M%S)
BACKUP_DIR="/backups/n8n"
API_KEY="sua_api_key"
N8N_URL="https://seu-n8n.com"

#ionicicon-namesparkles-outline-style-fontsize-24px color: '#cor-ea4b71-criar-diretrio de backup
mkdir -p $BACKUP_DIR

#ionicicon-namegit-branch-outline-style-fontsize-24px color: '#cor-ea4b71-backup-de workflows
curl -H "X-N8N-API-KEY: $API_KEY" \
  "$N8N_URL/api/v1/workflows" \
  | jq '.' > "$BACKUP_DIR/workflows_$DATE.json"

#ionicicon-nameshield-checkmark-outline-style-fontsize-24px color: '#cor-ea4b71-backup-de credenciais
curl -H "X-N8N-API-KEY: $API_KEY" \
  "$N8N_URL/api/v1/credentials" \
  | jq '.' > "$BACKUP_DIR/credentials_$DATE.json"

#ionicicon-namedocument-outline-style-fontsize-24px color: '#cor-ea4b71-comprimir-backup
tar -czf "$BACKUP_DIR/n8n_backup_$DATE.tar.gz" \
  "$BACKUP_DIR/workflows_$DATE.json" \
  "$BACKUP_DIR/credentials_$DATE.json"

#ionicicon-namedocument-outline-style-fontsize-24px color: '#cor-ea4b71-manter-apenas últimos 30 backups
find $BACKUP_DIR -name "n8n_backup_*.tar.gz" -mtime +30 -delete

echo "Backup criado: $BACKUP_DIR/n8n_backup_$DATE.tar.gz"
```

#cron-job-para-backup-bash
#ionicicon-nametime-outline-style-fontsize-24px color: '#cor-ea4b71-adicionar-ao crontab
#ionicicon-namedocument-outline-style-fontsize-24px color: '#cor-ea4b71-backup-dirio às 2h da manhã
0 2 * * * /path/to/backup-workflows.sh

#ionicicon-namedocument-outline-style-fontsize-24px color: '#cor-ea4b71-backup-semanal completo
0 2 * * 0 /path/to/backup-workflows-full.sh
```

#Restauração

#restaurar-workflows-bash
#bin/bash
#ionicicon-namegit-branch-outline-style-fontsize-24px color: '#cor-ea4b71-restore-workflowssh-backupfile1
API_KEY="sua_api_key"
N8N_URL="https://seu-n8n.com"

#ionicicon-namesparkles-outline-style-fontsize-24px color: '#cor-ea4b71-extrair-backup
tar -xzf $BACKUP_FILE

#ionicicon-namegit-branch-outline-style-fontsize-24px color: '#cor-ea4b71-restaurar-workflows
jq -c '.[]' workflows_*.json | while read workflow; do
  curl -X POST \
    -H "X-N8N-API-KEY: $API_KEY" \
    -H "Content-Type: application/json" \
    -d "$workflow" \
    "$N8N_URL/api/v1/workflows"
done

echo "Workflows restaurados com sucesso"
```

---

#ionicicon-namegit-network-outline-style-fontsize-24px color: '#cor-ea4b71-sincronizao-e Integração

#Webhooks

#sincronizao-com-sistemas-externos-javascript
// Webhook para sincronizar workflows
{
  "url": "https://sistema-externo.com/webhook/n8n",
  "method": "POST",
  "headers": {
    "Authorization": "Bearer token_externo",
    "Content-Type": "application/json"
  },
  "body": {
    "event": "workflow.updated",
    "workflow": {
      "id": "abc123",
      "name": "Workflow de Vendas",
      "version": 5,
      "active": true
    },
    "timestamp": "2024-01-15T10:30:00Z"
  }
}
```

#integrao-com-git

#sincronizao-com-repositrio-bash
#bin/bash
#ionicicon-namegit-network-outline-style-fontsize-24px color: '#cor-ea4b71-sync-with-gitsh-workflowdirtmpn8n-workflows
GIT_REPO="https://github.com/empresa/n8n-workflows.git"
API_KEY="sua_api_key"
N8N_URL="https://seu-n8n.com"

#ionicicon-namedocument-outline-style-fontsize-24px color: '#cor-ea4b71-clonar-repositrio
git clone $GIT_REPO $WORKFLOW_DIR

#ionicicon-namegit-branch-outline-style-fontsize-24px color: '#cor-ea4b71-baixar-workflows atuais
curl -H "X-N8N-API-KEY: $API_KEY" \
  "$N8N_URL/api/v1/workflows" \
  | jq '.' > "$WORKFLOW_DIR/workflows.json"

#ionicicon-namegit-branch-outline-style-fontsize-24px color: '#cor-ea4b71-commit-e push
cd $WORKFLOW_DIR
git add .
git commit -m "Sync workflows $(date)"
git push origin main

echo "Workflows sincronizados com Git"
```

---

#ionicicon-namechevron-forward-outline-style-fontsize-24px color: '#cor-ea4b71-boas-prticas

#nomenclatura-e-documentao

#padres-de-nomenclatura-javascript Estrutura recomendada para nomes de workflows
const namingPatterns = {
  "departamento.funcionalidade.acao": "marketing.leads.enviar-email",
  "sistema.integracao.processo": "crm.salesforce.sincronizar-contatos",
  "ambiente.tipo.workflow": "prod.vendas.processar-pedidos"
}
```

#documentao-de-workflows-javascript Metadados para documentação
{
  "name": "Processar Pedidos de Venda",
  "description": "Workflow para processar pedidos vindos do e-commerce",
  "owner": "equipe-vendas@empresa.com",
  "tags": ["vendas", "e-commerce", "pedidos"],
  "version": "1.2.0",
  "lastUpdated": "2024-01-15T10:30:00Z",
  "dependencies": ["CRM", "Sistema de Pagamento"],
  "expectedExecutionTime": "5-10 minutos",
  "frequency": "Real-time via webhook"
}
```

#Segurança

#proteo-de-dados-sensveis-javascript
// Configurações de segurança
{
  "security": {
    "maskSensitiveData": true,
    "logRetentionDays": 90,
    "requireMFA": true,
    "sessionTimeout": 3600,
    "maxLoginAttempts": 5,
    "passwordPolicy": {
      "minLength": 12,
      "requireUppercase": true,
      "requireLowercase": true,
      "requireNumbers": true,
      "requireSpecialChars": true
    }
  }
}
```

#monitoramento-de-performance-javascript Métricas de monitoramento
{
  "monitoring": {
    "executionTime": {
      "warning": 300000, // 5 minutos
      "critical": 600000  // 10 minutos
    },
    "errorRate": {
      "warning": 0.05, // 5%
      "critical": 0.10  // 10%
    },
    "queueSize": {
      "warning": 100,
      "critical": 500
    }
  }
}
```

---

#ionicicon-namearrow-forward-circle-outline-style-fontsize-24px color: '#cor-ea4b71-prximos-passos

Agora que você entende o gerenciamento de workflows embarcados:

1. **[White Labelling](./white-labelling)** - Personalizar a aparência do n8n
2. **[Configuração do Embed](../implementacao/configuracao)** - Configurar parâmetros avançados
3. **[API do n8n](../../api/)** - Explorar todos os endpoints disponíveis
4. **[Segurança](../../hosting-n8n/seguranca/autenticacao)** - Implementar autenticação avançada

---

:::tip **Dica Pro**
Configure alertas automáticos para workflows críticos e mantenha backups regulares. Use a API para integrar o n8n com seus sistemas de monitoramento existentes.
:::

:::warning **Importante**
Sempre teste workflows em ambiente de desenvolvimento antes de aplicar em produção. Mantenha logs de auditoria por pelo menos 90 dias para compliance.
:::

:::info **Recurso Adicional**
Considere usar ferramentas de CI/CD para automatizar o deployment de workflows entre ambientes (dev, staging, prod).
:::

