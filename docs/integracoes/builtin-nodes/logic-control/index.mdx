---
title: Controle de Lógica
description: Nodes para controlar o fluxo de execução e tomar decisões baseadas em condições no n8n
sidebar_position: 1
keywords: [n8n, lógica, controle, fluxo, condições, decisões, if, switch, merge]
---

#ionicicon-namegit-branch-outline-style-fontsize-24px color: '#cor-ea4b71-controle-de Lógica

Os nodes de **Controle de Lógica** são fundamentais para criar workflows inteligentes e dinâmicos no n8n. Eles permitem que você controle o fluxo de execução, tome decisões baseadas em condições e combine dados de diferentes fontes.

#nodes-disponveis

#ionicicon-namecheckmark-circle-outline-style-fontsize-20px color: '#cor-ea4b71-if-o node **If** permite criar condições e tomar decisões baseadas em valores ou expressões, direcionando o fluxo do workflow.

**Principais funcionalidades:**
- Avaliar condições simples e complexas
- Direcionar dados para diferentes caminhos
- Usar expressões n8n para lógica avançada
- Combinar múltiplas condições
- Criar fluxos condicionais

**Casos de uso:**
- Validar dados de entrada
- Filtrar informações por critérios
- Implementar regras de negócio
- Criar fluxos de aprovação
- Processar dados diferentes baseado em condições

[Ver documentação completa →](/integracoes/builtin-nodes/logic-control/if)

#ionicicon-namegit-network-outline-style-fontsize-20px color: '#cor-ea4b71-switch-o node **Switch** permite direcionar dados para múltiplos caminhos baseado em diferentes condições, criando fluxos complexos.

**Principais funcionalidades:**
- Múltiplos caminhos de saída
- Condições independentes
- Caminho padrão para casos não cobertos
- Avaliação sequencial de condições
- Fluxos paralelos de processamento

**Casos de uso:**
- Classificar dados por tipo
- Implementar máquinas de estado
- Processar diferentes tipos de eventos
- Criar workflows de roteamento
- Implementar lógica de negócio complexa

[Ver documentação completa →](/integracoes/builtin-nodes/logic-control/switch)

#ionicicon-namegit-merge-outline-style-fontsize-20px color: '#cor-ea4b71-merge-o node **Merge** permite combinar dados de múltiplas fontes em um único fluxo, unindo informações relacionadas.

**Principais funcionalidades:**
- Combinar dados de diferentes nodes
- Unir informações relacionadas
- Sincronizar fluxos paralelos
- Agregar dados de múltiplas fontes
- Criar estruturas de dados consolidadas

**Casos de uso:**
- Mesclar dados de diferentes APIs
- Combinar informações de clientes
- Sincronizar processamento paralelo
- Agregar resultados de múltiplas consultas
- Consolidar dados de diferentes sistemas

[Ver documentação completa →](/integracoes/builtin-nodes/logic-control/merge)

#conceitos-fundamentais

#fluxo-de-controle-o-fluxo de controle** determina como os dados se movem através do workflow, baseado em condições e decisões.

**Tipos de fluxo:**
- **Sequencial**: Execução linha por linha
- **Condicional**: Execução baseada em condições
- **Paralelo**: Execução simultânea
- **Convergente**: Múltiplos caminhos se unem

#condies-e-expresses-as-condies são expressões que avaliam para verdadeiro ou falso, determinando o caminho do fluxo.

**Tipos de condições:**
- **Comparações**: `==`, `!=`, `>`, `<`, `>=`, `<=`
- **Lógicas**: `AND`, `OR`, `NOT`
- **Existe**: Verificar se campo existe
- **Vazio**: Verificar se valor está vazio
- **Regex**: Padrões de texto

#estruturas-de-deciso-as-estruturas de decisão** permitem criar lógica complexa no workflow:

1. **If-Then-Else**: Decisão binária
2. **Switch-Case**: Múltiplas opções
3. **Nested Conditions**: Condições aninhadas
4. **Parallel Processing**: Processamento paralelo

#padres-de-controle

#id-1-validao-e-filtragem
Dados de Entrada → Validação → Dados Válidos → Processamento
                ↓
            Dados Inválidos → Tratamento de Erro
```

**Exemplo:**
1. **If** node valida email
2. **If** node verifica se usuário existe
3. **If** node confirma se dados estão completos
4. Dados válidos seguem para processamento

#id-2-roteamento-por-tipo
Dados de Entrada → Switch → Tipo A → Processamento A
                ↓        → Tipo B → Processamento B
                          → Tipo C → Processamento C
```

**Exemplo:**
1. **Switch** node classifica por tipo de pedido
2. Pedidos normais vão para processamento padrão
3. Pedidos urgentes vão para processamento prioritário
4. Pedidos especiais vão para aprovação manual

#id-3-processamento-paralelo-dados de Entrada → Divisão → Processamento A → Merge → Resultado
                ↓         → Processamento B ↗
```

**Exemplo:**
1. Dados são divididos em dois fluxos
2. **HTTP Request** busca informações do cliente
3. **HTTP Request** busca histórico de compras
4. **Merge** node combina as informações

#id-4-fluxo-de-aprovao
Solicitação → Validação → Aprovado → Processamento
           ↓           → Rejeitado → Notificação
```

**Exemplo:**
1. **If** node verifica se valor está dentro do limite
2. **If** node confirma se aprovador está disponível
3. **Switch** node direciona para diferentes níveis de aprovação
4. **Merge** node consolida resultado final

#exemplos-prticos

#exemplo-1-sistema-de-notificaes

**Cenário:** Enviar notificações diferentes baseado no tipo de evento.

**Workflow:**
```
Webhook → If (tipo_evento) → Email → Slack → Merge → Log
       ↓                  → SMS ↗
```

**Configuração:**
- **If** node: `$json.tipo_evento === "urgente"`
- **Switch** node: `$json.canal` (email, sms, slack)
- **Merge** node: Combina resultados de todos os canais

#exemplo-2-processamento-de-pedidos

**Cenário:** Processar pedidos de forma diferente baseado no valor e tipo.

**Workflow:**
```
Pedido → If (valor > 1000) → Aprovação Manual → Merge → Confirmação
      ↓                   → Processamento Automático ↗
```

**Configuração:**
- **If** node: `$json.valor > 1000`
- **Switch** node: `$json.tipo_pedido` (normal, premium, express)
- **Merge** node: Unifica resultado final

#exemplo-3-sistema-de-monitoramento

**Cenário:** Monitorar diferentes serviços e alertar baseado na severidade.

**Workflow:**
```
Monitor → Switch (serviço) → Verificação A → Merge → Análise
       ↓                   → Verificação B ↗
       ↓                   → Verificação C ↗
```

**Configuração:**
- **Switch** node: `$json.servico` (api, database, website)
- **If** node: `$json.status === "down"`
- **Merge** node: Consolida status de todos os serviços

#boas-prticas

#estruturao-de-condies-1-use nomes descritivos** para condições
2. **Simplifique lógica complexa** em múltiplos nodes
3. **Documente regras de negócio** nos comentários
4. **Teste todas as condições** com dados reais
5. **Mantenha condições legíveis** e organizadas

#performance-1-evite-condies-aninhadas excessivas
2. **Use Switch** para múltiplas opções
3. **Otimize ordem das condições** (mais prováveis primeiro)
4. **Processe em paralelo** quando possível
5. **Monitore tempo de execução**

#manuteno-1-use-variveis-para valores reutilizáveis
2. **Centralize lógica comum** em nodes separados
3. **Implemente logging** para debug
4. **Configure alertas** para falhas
5. **Documente fluxos complexos**

#Troubleshooting

#problemas-comuns

#condies-no-funcionam-verifique sintaxe das expressões
- Confirme tipos de dados
- Use o node Debug Helper
- Teste condições individualmente

#fluxo-inesperado-verifique-ordem das condições
- Confirme valores de entrada
- Valide lógica de decisão
- Use logs para rastrear fluxo

#merge-no-funciona-verifique se todos os inputs estão conectados
- Confirme estrutura dos dados
- Valide configuração do merge
- Teste com dados de exemplo

#cor-debug-1-use-o-node Debug Helper** para inspecionar dados
2. **Configure logging detalhado**
3. **Teste condições individualmente**
4. **Valide dados de entrada**
5. **Monitore fluxo de execução**

#expresses-avanadas

#operadores-de-comparao-javascript Comparações básicas
$json.valor > 100
$json.status === "ativo"
$json.email !== ""

// Comparações com arrays
$json.tags.includes("urgente")
$json.categorias.indexOf("tecnologia") > -1
```

#operadores-lgicos-javascript-and lógico
$json.valor > 100 && $json.status === "ativo"

// OR lógico
$json.tipo === "urgente" || $json.prioridade === "alta"

// NOT lógico
!$json.processado
```

#verificaes-de-existncia-javascript Verificar se campo existe
$json.hasOwnProperty("email")

// Verificar se valor não é nulo
$json.valor != null

// Verificar se array não está vazio
$json.items.length > 0
```

#expresses-complexas-javascript-mltiplas condições
($json.valor > 1000 && $json.cliente_tipo === "premium") || 
($json.valor > 5000 && $json.cliente_tipo === "normal")

// Validação de email
/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test($json.email)

// Verificação de data
new Date($json.data_vencimento) > new Date()
```

#prximos-passos-expresses-n8nlogica-e-dadosexpressoes - Usar expressões avançadas
- [Nodes de Dados](/integracoes/builtin-nodes/data-processing/index) - Processar dados
- [Tratamento de Erros](/logica-e-dados/flow-logic/error-handling) - Lidar com falhas
- [Fluxo de Execução](/logica-e-dados/flow-logic/execution-order) - Controlar ordem
- [Debugging](/logica-e-dados/flow-logic/debugging) - Depurar workflows

