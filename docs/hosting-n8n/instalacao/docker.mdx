---
sidebar_position: 1
title: Instalação via Docker
description: Guia completo para instalar n8n usando Docker
keywords: [n8n, docker, deployment, containerização, produção]
---


#ionicicon-namesettings-outline-style-fontsize-24px color: '#cor-ea4b71-instalao-via Docker

Este guia mostrará como instalar e executar o n8n usando Docker, a forma mais robusta e recomendada para ambientes de produção.

#ionicicon-nameschool-outline-style-fontsize-24px color: '#cor-ea4b71-o-que você vai aprender

- Como configurar n8n com Docker
- Variáveis de ambiente essenciais
- Configuração de volumes e persistência
- Configuração de rede e segurança
- Monitoramento e logs
- Backup e recuperação

#ionicicon-namegrid-outline-style-fontsize-24px color: '#cor-ea4b71-pr-requisitos-antes de começar, certifique-se de ter:

- **Docker** instalado (versão 20.10 ou superior)
- **Docker Compose** instalado (versão 1.28 ou superior)
- **Pelo menos 2GB de RAM** disponível
- **Porta 5678** disponível (ou outra de sua escolha)

---

#ionicicon-namesettings-outline-style-fontsize-24px color: '#cor-ea4b71-instalao-rpida

#teste-bsico-desenvolvimento-bash
#ionicicon-namecloud-outline-style-fontsize-24px color: '#cor-ea4b71-executar-n8n com Docker
docker run -it --rm \
--name n8n \
-p 5678:5678 \
n8nio/n8n

#ionicicon-namedocument-outline-style-fontsize-24px color: '#cor-ea4b71-acessar-em http://localhost:5678
```

:::warning Atenção
Este comando é apenas para testes rápidos. Para produção, use Docker Compose com volumes persistentes.
:::

#instalao-com-persistncia-bash
#ionicicon-namesparkles-outline-style-fontsize-24px color: '#cor-ea4b71-criar-volume para persistência
docker volume create n8n_data

#ionicicon-namedocument-outline-style-fontsize-24px color: '#cor-ea4b71-executar-com volume
docker run -it --rm \
--name n8n \
-p 5678:5678 \
-v n8n_data:/home/node/.n8n \
n8nio/n8n
```

---

#ionicicon-namecloud-outline-style-fontsize-24px color: '#cor-ea4b71-docker-compose (Recomendado)

#configurao-bsica-crie-um-arquivo `docker-compose.yml`:

```yaml
version: '3.8'

services:
  n8n:
    image: n8nio/n8n:latest
    restart: unless-stopped
    ports:
      - "5678:5678"
    environment:
      - N8N_PROTOCOL=https
      - N8N_HOST=seu-dominio.com
      - GENERIC_TIMEZONE=America/Sao_Paulo
      - WEBHOOK_URL=https://seu-dominio.com/
    volumes:
      - n8n_data:/home/node/.n8n

volumes:
  n8n_data:
```

#configurao-completa-com-banco-de Dados**

```yaml
version: '3.8'

services:
  n8n:
    image: n8nio/n8n:latest
    restart: unless-stopped
    ports:
      - "5678:5678"
    environment:
      - N8N_PROTOCOL=https
      - N8N_HOST=seu-dominio.com
      - GENERIC_TIMEZONE=America/Sao_Paulo
      - DB_TYPE=postgresdb
      - DB_POSTGRESDB_HOST=postgres
      - DB_POSTGRESDB_PORT=5432
      - DB_POSTGRESDB_DATABASE=n8n
      - DB_POSTGRESDB_USER=n8n
      - DB_POSTGRESDB_PASSWORD=senha_segura
      - REDIS_URL=redis://redis:6379
      - N8N_ENCRYPTION_KEY=sua_chave_32_caracteres
    volumes:
      - n8n_data:/home/node/.n8n
    depends_on:
      - postgres
      - redis

  postgres:
    image: postgres:15
    restart: unless-stopped
    environment:
      - POSTGRES_DB=n8n
      - POSTGRES_USER=n8n
      - POSTGRES_PASSWORD=senha_segura
    volumes:
      - postgres_data:/var/lib/postgresql/data

  redis:
    image: redis:7-alpine
    restart: unless-stopped
    command: redis-server --appendonly yes
    volumes:
      - redis_data:/data

volumes:
  n8n_data:
  postgres_data:
  redis_data:
```

#executar-com-docker-compose-bash
#ionicicon-namesparkles-outline-style-fontsize-24px color: '#cor-ea4b71-iniciar-servios
docker-compose up -d

#ionicicon-namedocument-outline-style-fontsize-24px color: '#cor-ea4b71-ver-logs
docker-compose logs -f n8n

#ionicicon-namedocument-outline-style-fontsize-24px color: '#cor-ea4b71-parar-servios
docker-compose down
```

---

#ionicicon-namesettings-outline-style-fontsize-24px color: '#cor-ea4b71-configurao-avanada

#variveis-de-ambiente-essenciais-bash
#ionicicon-namekey-outline-style-fontsize-24px color: '#cor-ea4b71-configuraes-bsicas
N8N_PORT=5678
N8N_PROTOCOL=https
N8N_HOST=seu-dominio.com
GENERIC_TIMEZONE=America/Sao_Paulo

#ionicicon-nameanalytics-outline-style-fontsize-24px color: '#cor-ea4b71-banco-de dados PostgreSQL
DB_TYPE=postgresdb
DB_POSTGRESDB_HOST=postgres
DB_POSTGRESDB_PORT=5432
DB_POSTGRESDB_DATABASE=n8n
DB_POSTGRESDB_USER=n8n
DB_POSTGRESDB_PASSWORD=senha_segura

#ionicicon-nameserver-outline-style-fontsize-24px color: '#cor-ea4b71-redis-para filas
REDIS_URL=redis://redis:6379

#ionicicon-nameshield-checkmark-outline-style-fontsize-24px color: '#cor-ea4b71-segurana-n8nencryptionkeysuachave32caracteres
WEBHOOK_URL=https://seu-dominio.com/

#ionicicon-namedocument-outline-style-fontsize-24px color: '#cor-ea4b71-execues-executionsprocessmain
EXECUTIONS_MODE=regular
```

#configurao-de-sslhttps-com-nginx

```yaml
version: '3.8'

services:
  n8n:
    image: n8nio/n8n:latest
    restart: unless-stopped
    environment:
      - N8N_PROTOCOL=https
      - N8N_HOST=seu-dominio.com
      - GENERIC_TIMEZONE=America/Sao_Paulo
      - DB_TYPE=postgresdb
      - DB_POSTGRESDB_HOST=postgres
      - DB_POSTGRESDB_DATABASE=n8n
      - DB_POSTGRESDB_USER=n8n
      - DB_POSTGRESDB_PASSWORD=${DB_PASSWORD}
      - REDIS_URL=redis://redis:6379
      - N8N_ENCRYPTION_KEY=${N8N_ENCRYPTION_KEY}
    volumes:
      - n8n_data:/home/node/.n8n
    depends_on:
      - postgres
      - redis
    networks:
      - n8n_network

  nginx:
    image: nginx:alpine
    restart: unless-stopped
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
      - ./ssl:/etc/nginx/ssl
    depends_on:
      - n8n
    networks:
      - n8n_network

  postgres:
    image: postgres:15
    restart: unless-stopped
    environment:
      - POSTGRES_DB=n8n
      - POSTGRES_USER=n8n
      - POSTGRES_PASSWORD=${DB_PASSWORD}
    volumes:
      - postgres_data:/var/lib/postgresql/data
    networks:
      - n8n_network

  redis:
    image: redis:7-alpine
    restart: unless-stopped
    command: redis-server --appendonly yes
    volumes:
      - redis_data:/data
    networks:
      - n8n_network

volumes:
  n8n_data:
  postgres_data:
  redis_data:

networks:
  n8n_network:
    driver: bridge
```

#configurao-nginx-nginx
#ionicicon-namedocument-outline-style-fontsize-24px color: '#cor-ea4b71-nginxconf-events {
    worker_connections 1024;
}

http {
    upstream n8n_backend {
        server n8n:5678;
    }

    server {
        listen 80;
        server_name seu-dominio.com;
        return 301 https://$server_name$request_uri;
    }

    server {
        listen 443 ssl http2;
        server_name seu-dominio.com;

        ssl_certificate /etc/nginx/ssl/cert.pem;
        ssl_certificate_key /etc/nginx/ssl/key.pem;

        location / {
            proxy_pass http://n8n_backend;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }
    }
}
```

---

#ionicicon-namechevron-forward-outline-style-fontsize-24px color: '#cor-ea4b71-escalabilidade

#configurao-de-filas-com-redis

```yaml
services:
  n8n:
    environment:
      - REDIS_URL=redis://redis:6379
      - EXECUTIONS_PROCESS=main
      - EXECUTIONS_MODE=regular
      - EXECUTIONS_TIMEOUT=300000
      - EXECUTIONS_TIMEOUT_MAX=3600000

  redis:
    image: redis:7-alpine
    command: redis-server --appendonly yes --requirepass ${REDIS_PASSWORD}
    volumes:
      - redis_data:/data
```

#load-balancing-com-mltiplas-instncias

```yaml
version: '3.8'

services:
  n8n-1:
    image: n8nio/n8n:latest
    environment:
      - EXECUTIONS_PROCESS=main
      - REDIS_URL=redis://redis:6379
      - DB_TYPE=postgresdb
      - DB_POSTGRESDB_HOST=postgres
    depends_on:
      - postgres
      - redis

  n8n-2:
    image: n8nio/n8n:latest
    environment:
      - EXECUTIONS_PROCESS=main
      - REDIS_URL=redis://redis:6379
      - DB_TYPE=postgresdb
      - DB_POSTGRESDB_HOST=postgres
    depends_on:
      - postgres
      - redis

  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx-lb.conf:/etc/nginx/nginx.conf
    depends_on:
      - n8n-1
      - n8n-2
```

---

#ionicicon-nameshield-checkmark-outline-style-fontsize-24px color: '#cor-ea4b71-segurana

#autenticao-bsica-yaml-services-n8n
    environment:
      - N8N_BASIC_AUTH_ACTIVE=true
      - N8N_BASIC_AUTH_USER=admin
      - N8N_BASIC_AUTH_PASSWORD=senha_segura
```

#configurao-de-rede-yaml-services
  n8n:
    networks:
      - n8n_internal
    expose:
      - "5678"

  nginx:
    networks:
      - n8n_internal
      - n8n_external
    ports:
      - "443:443"

networks:
  n8n_internal:
    driver: bridge
  n8n_external:
    driver: bridge
```

---

#ionicicon-namechevron-forward-outline-style-fontsize-24px color: '#cor-ea4b71-backup-e Recuperação

#cor-backup-automtico-bash
#bin/bash
#ionicicon-namedocument-outline-style-fontsize-24px color: '#cor-ea4b71-backup-n8nsh-datedate +%Y%m%d_%H%M%S)
BACKUP_DIR="/backups/n8n"

#ionicicon-namecloud-outline-style-fontsize-24px color: '#cor-ea4b71-backup-dos volumes Docker
docker run --rm -v n8n_data:/data -v $BACKUP_DIR:/backup alpine tar czf /backup/n8n_data_$DATE.tar.gz -C /data .

#ionicicon-nameserver-outline-style-fontsize-24px color: '#cor-ea4b71-backup-do banco PostgreSQL
docker exec postgres pg_dump -U n8n n8n > $BACKUP_DIR/n8n_db_$DATE.sql

#ionicicon-namedocument-outline-style-fontsize-24px color: '#cor-ea4b71-manter-apenas últimos 7 backups
find $BACKUP_DIR -name "*.tar.gz" -mtime +7 -delete
find $BACKUP_DIR -name "*.sql" -mtime +7 -delete
```

#cron-job-para-backup-bash
#ionicicon-nametime-outline-style-fontsize-24px color: '#cor-ea4b71-adicionar-ao crontab
0 2 * * * /path/to/backup-n8n.sh
```

---

#ionicicon-nameeye-outline-style-fontsize-24px color: '#cor-ea4b71-monitoramento

#logs-bash
#ionicicon-nametime-outline-style-fontsize-24px color: '#cor-ea4b71-ver-logs em tempo real
docker-compose logs -f n8n

#ionicicon-namedocument-outline-style-fontsize-24px color: '#cor-ea4b71-logs-especficos
docker logs n8n_container

#ionicicon-namefilter-outline-style-fontsize-24px color: '#cor-ea4b71-logs-com filtros
docker-compose logs n8n | grep ERROR
```

#health-checks-bash
#bin/bash
#ionicicon-namedocument-outline-style-fontsize-24px color: '#cor-ea4b71-health-checksh-containernamen8n
HEALTH_URL="http://localhost:5678/healthz"

if ! docker ps | grep -q $CONTAINER_NAME; then
    echo "Container $CONTAINER_NAME não está rodando"
    docker-compose up -d
    exit 1
fi

RESPONSE=$(curl -s -o /dev/null -w "%{http_code}" $HEALTH_URL)

if [ $RESPONSE -ne 200 ]; then
    echo "n8n não está respondendo: $RESPONSE"
    docker-compose restart n8n
fi
```

---

#ionicicon-namebug-outline-style-fontsize-24px color: '#cor-ea4b71-troubleshooting

#problemas-comuns

#container-no-inicia-bash
#ionicicon-namedocument-outline-style-fontsize-24px color: '#cor-ea4b71-verificar-logs
docker-compose logs n8n

#ionicicon-nameschool-outline-style-fontsize-24px color: '#cor-ea4b71-verificar-recursos
docker stats

#ionicicon-nameperson-outline-style-fontsize-24px color: '#cor-ea4b71-reiniciar-container
docker-compose restart n8n
```

#problemas-de-conectividade-bash
#ionicicon-namedocument-outline-style-fontsize-24px color: '#cor-ea4b71-verificar-rede
docker network ls
docker network inspect n8n_network

#ionicicon-nameperson-outline-style-fontsize-24px color: '#cor-ea4b71-testar-conectividade entre containers
docker exec n8n ping postgres
```

#problemas-de-volume-bash
#ionicicon-namedocument-outline-style-fontsize-24px color: '#cor-ea4b71-verificar-volumes
docker volume ls
docker volume inspect n8n_data

#ionicicon-nameanalytics-outline-style-fontsize-24px color: '#cor-ea4b71-recriar-volume (cuidado: perde dados)
docker-compose down
docker volume rm n8n_data
docker-compose up -d
```

---

#ionicicon-namearrow-forward-circle-outline-style-fontsize-24px color: '#cor-ea4b71-prximos-passos

Agora que você tem o n8n rodando com Docker:

1. **[Configuração Avançada](../configuracao/variaveis-ambiente)** - Variáveis de ambiente
2. **[Segurança](../seguranca/autenticacao)** - Configurar autenticação
3. **[Escalonamento](../escalonamento/clustering)** - Preparar para crescimento

#outros-mtodos-de-instalao **[NPM](./npm)** - Instalação via NPM
- **[Cloud](./cloud)** - Deploy em cloud providers
- **[Desktop](./desktop)** - Aplicação desktop

---

:::tip **Dica Pro**
Para produção, sempre use **Docker Compose** com **PostgreSQL** e **Redis**. Isso garante consistência, escalabilidade e facilidade de backup.
:::

:::warning **Importante**
Mantenha sempre backups regulares dos volumes e do banco de dados. Em caso de falha, você pode restaurar rapidamente.
:::

---

**Links úteis:**

- [Documentação oficial Docker n8n](https://docs.n8n.io/hosting/installation/docker/)
- [Imagem oficial no Docker Hub](https://hub.docker.com/r/n8nio/n8n)
- [Repositório n8n no GitHub](https://github.com/n8n-io/n8n)

